EVOLUTIONS DEMANDEES POUR LES TRAILEURS DU RANDON :
- générer un pdf avec 6 qrcodes par page.
- faire en sorte qu'un coureur d'une catégorie puisse s'inscrire à n'importe quelle course, de distances différentes.
Ce ne serait plus la catégorie qui donnerait la course mais une propriété (à créer) du coureur.
Dans les paramètres, un checkbox en plus sera associé à Parametres["CategorieDAge"]=2 deviendrait un entier : 0, 1, 2 
(1 et 2 correspondrait aux catégories d'athlétisme automatiquement : évitera des corrections dans le code).
Dans les paramètres, un champ Entry apparaîtrait en cas de choix "Trail" et il suffirait de saisir les noms des courses désirées, séparées par ; ou /.
Dans le menu "paramètres des courses", la partie gauche disparaîtrait, la partie droite prendrait alors en compte ce nouveau paramètre.
Dans le menu d'ajout de coureur, les fonctions d'import CSV (champ trail à considérer), 
- Idéalement, les dossards coderaient 1A, 2A, 3A pour la première course, 1B, 2B, ... pour la 2ème course. 
Coureurs deviendrait un dictionnaire {A:[Coureur 1A, Coureur 2A,...],B:[coureur 1B, ...],...}
Même schéma pour ArriveeTemps, ArriveeTempsAffectes, ArriveeDossards, 



BUGS RESTANTS dans chronoHB :
PRIORITAIRES :





NON PRIORITAIRES :
- FONCTIONNELS : si on remplit le tableau avec quelques temps puis on le vide, on avait (parfois) 
un bug dans Coureur.defMajLigne()  à la ligne "self.listeDesTemps[ligne - 1] = donnee[1] # mise à jour du temps".
Le try : except: ajouté en urgence aujourd'hui (le 19/10/22 dans chronoHB.pyw permet d'éviter le problème
 mais pas d'en corriger la cause. Enlever le try: et tenter de reproduire le bug puis de le corriger.
En pratique, vider le tableau n'arrive jamais en conditions réelles : on n'efface jamais toutes les arrivées.

- Quand des horaires de passage ne sont pas affectés à un dossard, si on tente de supprimer le temps en question,
je pense que celui-ci est effectivement supprimé dans la base mais l'affichage ne s'actualise pas... :-(

- Quand on corrige une erreur sur l'ordinateur, en cliquant sur le bouton proposé pour la corriger, 
cela décoche les cases liées à l'affichage TV.

- Le status dispensé ou absent devrait être cumulable : élimination du combobox et utilisation de cases à cocher.
Attention à répercuter ces éventuels deux status dans les pdf générés et dans le tableur xls si tel est le cas.
La class Coureur() permet déjà le cumul, je pense...

- Selon la taille des noms des catégories, les cases à cocher pour l'affichage TV débordent de l'écran. Faire en sorte que cela soit adaptatif.
Créer un affichage qui dépend de la longueur totale à afficher avec retour à la ligne. Actuellement, on coupe en deux les combobox.

- changer les fichiers textes de db en une extension comme chb (pour chronoHB) afin d'ignorer dans GIT tous les fichiers chb... Plus pratique !



- ESTHETIQUE :
	* dans le pdf qui affiche les résultats d'un groupement, quand la colonne vitesse n'est pas assez large,
	( cas où il y a la vitesse et la VMA ),  les éléments ne sont pas centrés correctement.
	* les menus de droite "topdepart", chronos des departs, affichageTV et erreurs peuvent s'afficher dans un ordre fluctuant.
	Il faudrait tout regrouper dans une seule fonction qui les affiche ordonnés...
	* la droiteFrame devrait être munie d'un scroll haut-bas afin de gérer le cas où les éléments affichés sont trop nombreux. 
	Non réussi avec la class dérivée de Frame présente en début de code de chronoHB.py
	* si un temps est entre minuit et 1H, lors de la fermeture de l'application, le temps affiché est incorrect.
	Aucun impact sur les temps calculés et les statistiques. 
	Impact sur l'affichage TV sur le chronomètre en temps réel affiché en haut ? A vérifier.
	Exemple : 00:44:20:34 devient, après fermeture puis ouverture de l'application 44:20:34.

	
ESTHETIQUE :



A TESTER :
Suite à la création (16/10) d'une fonction d'import xlsx et prise en compte des nouveaux cas possibles à venir (catégories manuelles, etc...)
Reste à tester ces nouvelles fonctions et à les intégrer en remplaçant tous les appels à recupCSVSIECLE par des appels à recupImportNG()
Reste à permettre le choix de fichiers xlsx depuis la boite de dialogue de l'interface.



FONCTIONNALITES MANQUANTES dans chronoHB.py :
PRIORITAIRES :
- permettre d'afficher sur la TV les vidéos : dans la zone d'affichage, développer un combobox qui affichera
les noms des dossards concernés (théoriquement) par un enregistrement qu'il serait possible de cocher pour diffusion sur la TV.
Placer cette diffusion au tout début de la page web, avant les tableaux. Cela permettrait de palier toute demande 
de vérification et de laisser les coureurs concernés loin des installations.

	
MOYENNEMENT PRIORITAIRE :
- remplacer l'usage de xlswriter par openpyxl lors de l'export => possibilité d'éliminer cette dépendance.
- mise en page du tableau par catégories dans les statistiques : inutile de distinguer le sexe dans deux colonnes.
Cela a sa raison d'être pour les groupements ou pour les classes (qui sont dans Resultats, à maintenir) mais pas pour les catégories (également dans Résultats).
- accepter la pondération pour les challenges par classe.
- Compiler les dossards de chaque groupement et non de chaque catégorie séparément.
- le défilement automatique de MonTableau ne s'effectue que par blocs de 2 lignes.
- trouver les différentes fonctions d'actualisation de l'interface GUI. Il semble y avoir 3 qui font sûrement doublon. A réfléchir.
Source d'incompréhension en cas de bizarreries d'affichage potentielles. Pas de bug constaté pour l'instant.
- prévoir une procédure en cas de plantage au démarrage lié à une base de données incorrecte.
try : except : dans le traitement des données afin d'éviter une interface plantée comme ci-après :
Traceback (most recent call last):
  File "C:\Users\olikin\Documents\GitHub\chronoHB\chronoHB.py", line 1866, in <module>
    timer=Clock(root, "tableau.maj")
  File "C:\Users\olikin\Documents\GitHub\chronoHB\chronoHB.py", line 1765, in __init__
    self.update_clock()
  File "C:\Users\olikin\Documents\GitHub\chronoHB\chronoHB.py", line 1776, in update_clock
    traitementLocal = traiterDonneesLocales()
  File "C:\Users\olikin\Documents\GitHub\chronoHB\FonctionsMetiers.py", line 1162, in traiterDonneesLocales
    codeErreur = decodeActionsRecupSmartphone(ligne, local=True)
  File "C:\Users\olikin\Documents\GitHub\chronoHB\FonctionsMetiers.py", line 1231, in decodeActionsRecupSmartphone
    retour = addArriveeDossard(dossard, dossardPrecedent)
  File "C:\Users\olikin\Documents\GitHub\chronoHB\FonctionsMetiers.py", line 2747, in addArriveeDossard
    coureur = Coureurs[doss-1]
IndexError: list index out of range

Devrait lancer recupererSauvegardeGUI() en cas de plantage afin de charger une base correcte.


A PLUS LONG TERME :
- faire en sorte que les numéros de la première colonne du tableauGUI soient systématiquement avec le bon nombre de chiffres
(interne à la class tableauGUI) si moins de 100 résultats : à deux chiffres. Si moins de mille résultats, à trois chiffres, etc...
Ainsi, quand on effectue un tri par colonne, actuellement, j'ai mis 3 chiffres tout le temps. Développement court qui devra se baser sur la méthode formateSurNChiffres() 
en déterminant le nombre total de lignes et on l'appliquant à posteriori à tout le tableau quand ce total dépassera 100, 1000, etc...
- dans ajout manuel de coureur, le sexe devrait être une liste déroulante avec G ou F
  et la classe devrait aussi être une liste avec les classes précédentes mais permettant de saisir une nouvelle classe.
- pouvoir choisir l'imprimante vers laquelle on imprime dans les paramètres.
- quand MonTableau contient plus de 10 colonnes, impossible d'éditer une cellule au delà de la 10ème : problème de base 16 à convertir en base 10 (ou l'inverse, car écrit de mémoire...)
(Inutile en l'état actuel des besoins)
- Quid d'un réimport SIECLE sur une catégorie d'un coureur : doit il modifier les éléments modifiés manuellement (nom, prénom, sexe, naissance, classe) ?
  Actuellement, cela semble bien car sexe, naissance, classe, absent, dispensé, commentaire sont modifiés. 
  Seuls nom et prénom, s'ils sont différents, imposent la création d'un autre coureur (nouveau numéro de dossard). Du coup, l'autre dossard devient inutile.
- l'affichage.html pourrait être exporté à chaque actualisation vers un serveur ftp sur le web (identifiants+mdp+adresse à renseigner dans les paramètres).
Ainsi, n'importe quel autre ordintateur relié à internet, plus lointain (sans wifi), pourrait afficher les résultats.
Actuellement, il faut que le deuxième ordinateur soit sur le même réseau wifi pour afficher la page http://ip-serveur-chronoHB/Affichage.html .
- si la génération des dossards (ou des résultats ou du xlxs) échouent, c'est probablement lié à un fichier ouvert dans adobe reader ou excel. 
	Inviter l'utilisateur à fermer ces logiciels par un pop-up.
- possibilité de configurer les dossards générés : possibilité de trier les coureurs du listing par ordre alphabétique (et non par création=> dossard, comme actuellement)
d'imprimer les dossards par groupements, catégories, classes avec des cases à cocher dans un menu dédié...
- dans les paramètres, permettre de changer l'option : "statistiques en % ou en effectifs".
- import depuis un fichier xlsx à implémenter en plus du CSV (priorité faible)
- Ajouter un mode sombre via l'interface (case à cocher) pour utiliser la css mode-sombre. 
- segmenter le code pour séparer les classes de données (AVANT DE DIFFUSER REELLEMENT LE LOGICIEL)
- Créer un système évitant des incohérences entre les smartphones et la base locale : 
un numéro de course unique qui empêcherait toute communication tant que les données n'ont pas été coordonnées ou celles du smartphone effacées.
A réfléchir...
