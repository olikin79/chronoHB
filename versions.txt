Manquent :
- tester <etablissement> par le nom en question (implémenté dans le commentaire mais non testé)
- la compatibilité ascendante avec d'anciennes sauvegardes à tester
- dans class AbsDispFrame() lister les coureurs par établissement au lieu de catégories. 
Cela permettrait de mieux faire l'appel.


Pour le 23/11 :
retester si les minimes en avance en lycée sont bien en cadets et si les cadets en retard sont bien en minimes !
commentaires dans la Coureur.categorie(..) inquiétants. Fait ailleurs ?


Manque pour la branche trail-rieutort :
- tester toute la suite : impression des dossards, déroulement des courses,...



Travail du 18/12/22 :
- dans paramètres des courses, si la base est vide, cela crée une course A sans coureur pour que le menu s'affiche.
- dans paramètres des courses, le bouton "nettoyer les courses vides" corrigé.


Travail du 17/12/22 : 
- correction de bugs dans addArriveeDossard et delArriveeDossard 
=> on peut de nouveau avancer ou reculer un dossard sur la ligne d'arrivée depuis le smartphone ou l'interface GUI.
- dans Arrivee.pyw, la recherche par nom-prénom-classe-catégorie ne s'effectuait pas dans tous les fichiers CoureursA.txt, CoureursB.txt...
Problème résolu en créant un unique fichier Coureurs.txt qui contient tous les coureurs de toutes les courses, uniquement pour cela.
- le coureur vide a un dossard vide pour compatibilité ascendante (correctif d'affichage).
- les lettres ne seront plus affichées sur l'interface GUI pour les courses non manuelles mais resteront dans le fonctionnement sous-jacent.

Travail du 15/12/22 :
Bugs divers corrigés (introduits lors de la refonte du coeur du système de dossards fin novembre-début décembre.
- lors de la génération du fichier de QR-codes, il génèrait des dossards C alors qu'il n'y avait que deux courses !
- correctif export en pdf des résultats.
- correctif si dossard saisi en minuscule. La casse venant du smartphone et sur l'interface GUI n'aura aucune conséquence...
On autorise la saisie de lettres dans la colonne dossards affectés sur l'interface GUI.
- dans la entry pour affecter un dossard à un temps, seuls les chiffres étaient autorisés. Il fallait autoriser une lettre finale.
- idem dans l'interface de smartphone : on peut désormais affecter un dossard avec une lettre à un temps.


Travail du 04/12/22 :
- lorsque l'on effaçait les coureurs depuis le menu, cela ne supprimait pas CoursesA.txt, CoursesB.txt etc... Corrigé.


Travail du 03/12/22 : 
- corrections de bugs introduits la veille.
- modification de l'interface smartphone afin d'autoriser des dossards non numériques.
- modification de l'interface smartphone afin d'autoriser des saisies au clavier non numériques si les courses manuelles sont activées.
- si CoursesManuelles alors création d'un listing de 100 QR-codes (1A-100A et 1B-100B) pour impressions cross Rieutort


Travail du 02/12/22 : branche class Coureurs-ArriveesDossards
- Tests, compléments et correction du travail du 29/11/22. Toutes les méthodes ont été testées et protégées.
Il reste à faire de même pour l'implémentation de ArriveeDossards : idem mais avec des dossards contenus et non des Coureurs.
Puis remplacer toutes les occurences de Coureurs dans tout le code (voir todolist).


Travail du 29/11/22 : branche class Coureurs-ArriveesDossards
- ajout d'une classe héritée de dict : DictionnaireDeCoureurs avec la propriété nombreDeCoureurs et les 
méthodes recuperer(doss), liste(), ajouter(coureur), effacer(coureur), effacer(dossard) afin de gérer les dossards
au format "23A", "54B". Tentative de conserver la compatibilité avec les dossards uniquement numérotés.
A tester conscienceusement plus tard.


Travail du 17/11/22 :
- correctif message incorrect lors d'un deuxième import stritement identique au précédent... Indiquait une erreur alors qu'il n'y en a pas.
- création d'une fonction qui nettoie les courses manuelles (en supprimant les courses sans participant puis réindexation des nomStandard), 
actionnée par un bouton dédié en utilisant delCourse().


Travail du 15/11/22 : branche trail-rieutort
- modification de addCoureur dans le cas CoursesManuelles==True pour créer des Courses perosnnalisées si elles n'existent pas. 
Création d'une fonction qui retourne le nomStandard ("numéro 1", etc... à partir de celui fourni), utile pour actualiser les courses ou
 les créer si besoin.
- la propriété "categorie" d'un Coureur redevient totalement automatique : on indique la propriété course manuellement si CoursesManuelles == True.
Le reste du code est modifié en fonction.
- le nombre de courses ne peut plus baisser (dans la combobox de choix du nombre de courses manuelles, le minimum est le nombre actuel de courses)
- dans le menu de modif d'un coureur, le nom des courses manuelles apparaît et est modifiable.


Travail du 14/11/22 : branche trail-rieutort
- interface paramètres du cross pour catégories manuelles
- import du paramètre "course" depuis CSV ou tableur.
- modification ajout-modif coureur pour ajouter combobox
- dans paramètres des courses, on cache la partie de gauche. On identifie les Courses aux groupements si CoursesManuelles==True.
- ajout d'un combobox de 1 à 20 en fonction du nombre de courses souhaitées. Les champs des groupements se remplissent avec "numéro 1", etc...


Travail du 13/11/22 : 
- actualisation du dossard UNSS
- l'import référence uniquement les changements opérés sur les coureurs et
 n'indique l'actualisation que s'il y a eu changement réel des caractéristiques du coureur.


Travail du 04/11/22 :
- l'annulation d'un départ réinitialise l'affichage à droite pour que les départs, paramètres TV, erreurs soient toujours bien ordonnés.

Travail du 01/11/22 :
- correctif rang dans catégorie tenant compte du fait qu'un sénior est forcément meilleur que des petits mais AUSSI des vétérans.
- ajout du rang dans catégorie pour les 3 premiers de chaque catégorie dans les PDF générés.


Travail du 31/10/22 :
- correctif rang dans catégorie tenant compte de toutes les catégories inférieures. 
Exemple : si un junior arrivé est le 2ème parmi les juniors mais qu'un cadet est arrivé avant lui dans la même course, je considère qu'il est 3ème junior !

Travail du 30/10/22 :
- débuggage des challenges UNSS (ok suite aux derniers tests).
- nouveau dossard UNSS
- affichage à droite stable désormais (sauf quand on annule un départ)


Travail du 28/10/22 :
- génération des challenges UNSS (gros travail sur le code dédié aux challenges).
- export XLSX avec etablissement et sa nature.


Travail du 26/10/22 :
- on permet les années sur 2 ou 4 chiffres à l'import (naissanceValide() modifié)
- les messages d'erreur lors de l'import devraient être redirigés vers un fichier texte dédié pour affichage dans l'interface via un clic en cas d'erreur présente.
- l'import UNSS semble fonctionnel et affecte bien les élèves à la limite (minime-cadet) en fonction de leur établissement.
- temps prévisionnel pour le paramétrage UNSS également.
- affichage TV pour l'UNSS : établissement affiché pour chaque coureur arrivé.


Travail du 25/10/22 :
- bouton radio pour catégories UNSS
- Parametres['CategorieDAge'] devient un entier 0, 1 ou 2 pour l'UNSS. 
Compatibilité ascendante assurée (import de vieilles bases de données, choix 1 et 2 amènent à considérer les catégories d'âge.
- la propriété établissement et établissementNature pour chaque Coureur.
- actualisation de la catégorie dans le cas UNSS : prise en compte des redoublants et des élèves ayant sauté une classe.
- l'import XLSX (testé et corrigé) via recupImportNG() (factorisation + sécurisation du code d'import)
- l'import dans le cas UNSS : ajouter en obligatoire l'établissement et sa nature (CLG LGT LP)
- l'actualisation du fichier texte par CoureursParClasseUpdate() avec établissement en dernier paramètre si présent.
- Arrivee.pyw remplace <etablissement> par le nom en question (implémenté mais non testé)


Travail du 19/10/22 : version 1.6
- cgi/arrivee.pyw retourne une classe dans tous les cas (bug découvert avec une chaine non numérique corrigé).
- blindage de la mise à jour d'une ligne en cas de vidage du tableau. A explorer plus tard...
- correctif des pdf des groupements non générés.
- correctif nom du groupement affiché sur les dossards générés un par un.
- le(s) bouton(s) des vidéos apparaitront désormais à la place du numéro de dossard et non à la place du dossard à affecter.
Problème très gênant rencontré aujourd'hui corrigé...


Travail du 16/10/22 :
- création d'une fonction d'import xlsx et prise en compte des nouveaux cas possibles à venir (catégories manuelles, etc...)
Reste à tester ces nouvelles fonctions et à les intégrer en remplaçant tous les appels à recupCSVSIECLE par des appels à recupImportNG()
Reste à permettre le choix de fichiers xlsx depuis la boite de dialogue de l'interface.
- possibilité d'importer des VMA avec des virgules (ou des points indifféremment).


Travail du 15/10/22 :
- création des dossards par groupements (et non plus par catégories).
C'est logique pour une impression dans une couleur pour une course car plusieurs catégories pouvaient être regroupées en une course.
- grossissement des caractères affichés sur la TV.
- bug timezone du chronomètre de la TV corrigé.


Travail du 18/09/22 : 
- modification du serveur HTTP pour qu'il utilise pythonw.exe au lieu de python.exe. Plus joli :-D.


Travail du 17/09/22 : 
- ajout des catégories M0, M1, M2, ...
- changement d'année sportive au 1er septembre (au lieu du 01/11).
- si catégories d'âge, ajout d'une médaille d'or, d'argent, de bronze à chaque premier de catégorie sur l'affichage TV.
  sinon (cross du collège), ajout uniquement des médailles des premiers d'un groupement, à côté de leur nom.


Travail du 03/09/22 : version 1.57
- Correctif non actualisation de l'affichage TV lors du top départ d'une course.
- Correctif non actualisation des EntryParam (champs contenant les paramètres) lors de la récupération d'une sauvegarde.


Travail du 28/08/22 : version 1.56
- effacement des fichiers de LOG en cas de réinitialisation des données (oublié en 1.55).
- fonctionne avec pythonw. Les sorties console n'étaient pas redirigées assez tôt dans chronoHB.py.
- renommage de chronoHB.py en chronoHB.pyw, adaptation de la documentation.
- résolution d'un bug en cas d'imports de données depuis le smartphone avant l'import de coureurs (Peu probable mais corrigé). 


Travail du 28/08/22 : version 1.56
- Amélioration gestion des groupements:
Quand on regroupe des catégories, on perdait un numéro dans les combobox :
	- on ne pouvait plus augmenter le nombre de groupements. Rajouter un numéro dans les combobox si le nombre de groupements est inférieur strict au nbre de catégories.
	- blocage du combobox (non modifiable).
- le fichier d'une classe est trié par ordre alpha et non de numéro de dossard (historiquement).
- correction dénomination "Catégorie" en lieu et place de "Classe" dans le listing.
- correction nom personnalisé du groupement au lieu du nom standard sur les dossards.
- correction rechercheVideoProcheDe si recherche d'une ligne sans horaire ("-" quand il manque un temps)
- correction bug si plusieurs générations de pdf successives : les statistiques étaient vides.
- ajout d'une fonction de nettoyage quand on efface toutes les données ou que l'on récupère une sauvegarde. 
On efface les vieilles vidéos, db, fichiers tex et pdf etc...
Si l'utilisateur veut conserver une sauvegarde, il doit l'avoir fait spécifiquement (pour les vidéos). 
Sinon, on garde juste la dernière version de la base de données comme indiqué dans le message en pop-up.


Travail du 27/08/22 : version 1.55
Nombreuses corrections de bugs :
- Correctif liés à l'encodage des fichiers tex : fichier de statistiques,...
- Correctif lié aux groupements : les groupements vides n'étaient pas supprimés par nettoieGroupements()
- Correctifs nombreux liés à la distinction à effectuer entre les impressions par catégories d'âge ou par classe.
- Les abandons n'apparaissaient plus dans le fichier de statistiques,
- Les fichiers .tex sans données étaient générés,... Ils ne le sont plus.
- Si un pdf est ouvert, ne génère plus d'erreur à la compilation. Affiche un popup indiquant de le fermer.
- si les fichiers txt de données venant de l'interface ou des smartphones n'existaient pas ou n'était pas modifiés, la sauvegarde se lançait quand même. Corrigé.
- correction pour que les groupements de l'affichage TV utilisent le nomStandard et non celui librement paramétrable. Plus sûr.

Optimisation : les fichiers tex inchangés (pas de changement dans une course donnée) ne sont plus regénérés.
On ne supprime plus tous les pdf mais seulement ceux qui doivent subir un changement. Ajout d'une propriété flag aux class Courses et Groupement.


Travail du 22/08/22 : version 1.52
La génération des résultats en fonction des cases cochées s'effectue correctement après toute modification.
Résolution du bug de génération des résultats de challenge sur la TV.
Correction de la variable auMoinsUnImport qui n'était pas remise à False systématiquement. Cela provoquait du travail inutile.
Correction affichage du chronomètre sur un challenge qui suit sur la TV.
Correction du bug lié à l'erreur "un coureur n'aurait pas dû passer la ligne (431)" qui n'était jamais supprimée de l'affichage
quand la suppression était effectuée sur le smartphone ou le serveur. 
Obligation d'un post-traitement des erreurs pour vérifier si une erreur rencontrée à un moment donné est éventuellement corrigée ensuite.


Travail du 21/08/22 : version 1.51
Renommage de Affichage.html en index.html pour une URL plus courte.
Renommage (oublié) du favicon.ico déjà créé.
Espace entre la vitesse et "km/h" à l'affichage ajouté.
Mémorisation des cases cochées pour l'affichage TV lors de la fermeture. Restauration à l'ouverture.

Correction des bugs suivants :
- non actualisation de l'affichage TV lors de nouvelles données. Bug introduit volontairement (fatigué?) à une date indéterminée.
- ré-import de l'intégralité des fichiers smartphones lors du lancement, qui se corrigeait automatiquement dans les 3 secondes. Cela génèrait des erreurs temporaires.
- création favicon.ico pour le serveur web.
- encodage des caractères envoyés au smartphone incorrect depuis les développements 2022. Corrigé.


Travail du 16/08/22 :
- correction de bugs sur la détection vidéo, la sauvegarde,...
- correction d'un bug sur la sélection de lignes dans le treeview (très ancien) quand des lignes ont été supprimées par endroit ou à la fin.


Travail du 14/08/22 : version 1.5
- implémentation de la détection de mouvement et de l'affichage de la webcam dans l'interface.
Le menu paramètres contient deux paramètres liés à la webcam : le numéro de celle à utiliser, la sensibilité de la détection.
Des cases à cocher permettent d'activer l'enregistrement par détection de mouvement ET-OU l'affichage de la webcam.
Un bouton apparaît pour visualiser rapidement la vidéo dont l'enregistrement précède immédiatement l'heure de passage sélectionnée.
La documentation a été actualisée par rapport à cela.
- implémentation d'un archivage manuel en fin de course. Celui-ci comportera toutes les vidéos enregistrées. 
Modification des fonctions de sauvegarde et de restauration pour prendre en compte les vidéos.
- correctif esthétique : la modification d'un horaire de passage dans l'interface modifie le treeview instantanément. Ce n'est le cas que pour le dossard affecté.


Travail du 12/08/22 : version 1.42
- amélioration de la documentation : sommaire, etc... Ajout de la fonctionnalité implémentée ci-dessous.
- modèle de dossards à choisir dans les paramètres.


Travail du 01/08/22 : 
- dans l'apk android, la sauvegarde des données est désormais effectuée à chaque modification.
Cela permet d'être certain de conserver les données, même en cas de fermeture violente de l'application.
Auparavant, les données n'étaient sauvegardées qu'à la fermeture (bouton back-triangle) de la fenêtre chronoHB.
C'était prendre le risque d'une fermeture accidentelle de l'appli qui effacerait les données en plein course. Problème verrouillé.


Travail du 07/07/22 :
- gestion de l'erreur 401 : dossard ayant déjà passé la ligne d'arrivée : ajouté avec le smartphone et l'interface... Signalée une fois avec proposition pour correctif (peu pratique).
- affichage des numéros de lignes sur 3 chiffres pour permettre un tri aisé.



Travail du 06/07/22 :
- les moyennes et médianes des statistiques sont fausses. 1H d'ajout dû à un horaire GMT au lieu de Paris.
Corrigé par utilisation de formaterDuree() à la place de formaterTemps()
- différenciation des Resultats des catégories de ceux des groupements.
- optimisation de groupementAPartirDUneCategorie() car exécuté de très nombreuses fois : création de la propriété nomGroupement de l'object Courses. 
Compatibilité ascendante assurée avec les sauvegardes n'ayant pas cette propriété : créée à la volée par l'ancien processus.
- l'uid unique décimal est découpé en uid (réinitialisé à la suppression de données sur le smartphone) et noTransmission qui est incrémenté à chaque nouvelle donnée envoyée. 
Si la même donnée est envoyée, il n'est pas incrémenté.
Objectif : ne pas avoir de doublon dans DonneesSmartphone.txt, notamment pour les temps, pour lesquels il est impossible de savoir s'il s'agit d'une erreur de transmission ou d'une duplication de temps, les deux étant rarissimes.


Travail du 04/07/22 :
- les challenges sont classés dans le bon ordre. Bug corrigé.
- sur l'affichage TV uniquement, la classe n'apparaissait pas dans le challenge. Corrigé.
- remise au propre de la classe CoureurFrame pour fonctionnement correct des boutons.
- l'affichage TV n'est pas réinitialisé à la fermeture du logiciel. Uniquement si on réinitialise les données de course.
- si on changeait de type de catégories (par age ou par classe), le menu absents et dispensés était organisé selon l'ancien type. Corrigé
- on organise les absents et dispensés sur 6 colonnes au lieu de 3 pour gérer les gros effectifs éventuels sur une course.


Travail du 03/07/22 :
- gestion correcte de l'erreur 331 : cas où il n'y aurait pas assez de temps par rapport au nombre de dossards. 
C'est une erreur particulière qui peut se corriger seule suite à une rémontée d'infos du smartphone n°1.
Il faut donc contrôler si celle-ci a disparu ou non à chaque fois.
- esthétique : largeur de la frame erreurs corrigée.
- suppression du menu "Réimport de toutes les données" en mode DEBUG=False. 
- Mise à jour de la documentation : suppression du menu "réimport des données", gestion des erreurs courantes dans l'interface.
- esthétique : 
	* meilleure délimitation des zones à droite (bordures uniformisées)
	* le bouton "imprimer tous les dossards non imprimés" (dans ajout manuel de coureur) ne disparait plus après le clic sur ok.
	* les boutons "ok" et "annuler" (dans modif de coureur) n'apparaissent que s'il y a une modification.
- modification de addArriveeDossard pour ajouter les dossards en erreur (absent, disp, course non lancée) dans arriveeDossards (et permettre leur apparition dans l'interface GUI)
=> si le coureur est absent, dispensé ou que la course n'a pas été lancée, le coureur n'apparaît plus dans les tableaux de résultats affichés et imprimés.
- les vitesses sont de nouveau affichées : elles ont disparu lors du développement des Groupements. La distance du groupement n'était pas répercuté pour chaque course de celui-ci.
- l'affichage TV du challenge par classe ne fonctionnait plus suite à l'ajout du chronomètre dans les courses. Corrigé.
- les statistiques séparent les classes des groupements en deux tableaux. Celui des groupements est vide.
- les statistiques des groupements et des catégories d'age sont remplis par temps croissants.


Travail du 02/07/22 :
- correction de bug : la génération du pdf aImprimer.pdf non fonctionnelle alors que le .tex est généré correctement et que les autres compilations de dossards fonctionnent.
En fait, dans imprimerDossardsNonImprimes(), le fichier généré était instantanément supprimé intentionnellement. Pourquoi cette ligne ? Mystère !
- Implémenté : quand on imprimait manuellement un dossard, le coureur devait se retrouver avec la propriété aImprimer = False. C'est le cas désormais.
Impression immédiate du dossard sous windows.
- correction de bug : saisie vide pour affecter un dossard était refusée suite aux protections ajoutées ces jours-ci.
- correctif esthétique : l'entry pour saisir le numéro de dossard associé n'avait plus la bonne abscisse suite au redimensionnement automatique des largeurs des colonnes du treeview.


Travail du 01/07/22 :
- si le temps d'un coureur s'avère négatif, l'affichage est explicite sur les horaires de départ et d'arrivée afin d'aider à la résolution du problème.
- bug résolu : réimport de sauvegarde non fonctionnel sans redémarrage de l'application + changement de catégorie à destination des smartphones corrigé.
	+ changement de la catégorie affichée sur les boutons radio dans le menu paramètres + zone d'affichage des erreurs actualisée.
- création du fichiers DonneesSmartphones.txt dans la sauvegarde si vide (pour une cohérence des sauvegardes qui contiendront toutes 3 fichiers).
- limite maximale sur le nom automatique des Groupements dans l'interface (cas où il y aurait énormément de catégories dans un groupement) => esthétique de l'interface.
Pas de modif du nom du groupement affiché dans les résultats si nom par défaut conservé.
- meilleure implémentation des dossards non encore imprimés
- modification de l'apk android avec un bip plus court (1/10 de seconde) pour pouvoir en entendre plusieurs dans un court laps de temps.
- Esthétique :
	* taille et couleur du bouton "PARTEZ".
	* largeur adaptative de la zone affichageTV
	* le tableau d'affichage des temps et dossards arrivés s'agrandit en fonction de la taille de la fenêtre.

Travail du 30/06/22 :
- création d'un UID unique lors de chaque transmission d'une donnée depuis un smartphone.
Cela évite les problèmes liés à la transmission en double des données : elles seront ignorées lors du traitement des fichiers issus des smartphones si uid en doublon.
L'UID est un décimal constitué d'une partie entière aléatoire entre 1 et 10^11 et d'une partie décimale initialisée à 1/10000 lors de la première transmission puis incrémentée par 1/10000 à chaque transmission.
Modification de l'application android.
Rétro-compatibilité assurée avec l'import d'anciens fichiers. L'uid=0 ou un uid absent dans une vieille sauvegarde provoque l'import automatique des données.
- correction de bugs introduits récemment : 
	*l'affectation d'un dossard à un temps plantait.
	*l'actualisation de la frame topdepart ne s'effectuait pas quand on redéfinit les groupements. Sauf un redémarrage corrigeait le problème. On actualise tout l'affichage dans ce cas.


Travail du 28/06/22 :
- affichage d'info dans un tooltip au survol du bouton "ouvrir un navigateur" : URL à saisir pour affichage distant notamment.
- mise à jour de la documentation vers 1.4 (en cours)
- vitesse de défilement réglable et temps de pause de l'affichage doivent être numériques. Sinon, la valeur précédente est réimposée.
Cela permet d'éviter le plantage de la page web d'affichage en cas de saisie incorrecte.


Travail du 27/06/22 :
- ajout d'un cadre autour de la zone pour donner les départs ainsi qu'autour de la zone avec les résultats à projeter sur une TV. 
- Implémentation : Erreurs affichées sur l'interface graphique avec des boutons permettant la correction.
- Le rang des coureurs est affiché immédiatement quand le coureur passe la ligne. 
Il est également recalculé lors de toute correction sur la catégorie d'un coureur dans le menu approprié.
- l'heure exacte du serveur à la seconde de l'ordinateur est affichée en rouge en haut de l'interface. 
L'opérateur qui est sur le serveur et qui voit passer un coureur peut ensuite associer ce temps vu à celui qui va apparaître mesuré 
par l'opérateur sur le premier smartphone. Cela décharge ce dernier qui va voir arriver plein de coureurs et n'a souvent pas le temps
d'effectuer l'association du premier coureur d'une course avec son temps.
- si en cours de course, on crée un coureur dans une catégorie qui n'existe pas encore. Qu'ensuite, on regroupe cette catégorie avec une 
dont le départ a déjà été donné. Alors le départ dans cette nouvelle catégorie devrait être donné (ce n'est pas fait) et l'affichage 
actualisé pour en tenir compte. (BUG TORDU MAIS POSSIBLE DANS L'URGENCE D'UNE COURSE).
=> J'empêche d'effectuer le regroupement d'une course qui n'a pas commencé avec un groupement qui a commencé.


Travail du 26/06/22 :
- bug compatibilité ascendante : possibilité de réimporter des vieux fichiers de données sans groupements : création des groupements manquants à la volée.
- correction de bug : emplacement de l'entry permettant d'affecter un dossard à un temps ou de modifier un temps parfaitement placé désormais...
- documentation vers 1.4 : paragraphes rédigés sur les nouvelles fonctionnalités.
- le fichier messageParDefaut.txt et d'autres ne doivent pas faire partie du package. Ils sont générés par le logiciel donc supprimés du dépôt.
- regénérer le fichier Coureurs.txt à chaque ajout manuel de coureur ou réimport d'une base de données.
C'était seulement effectué après un import CSV ou une modif manuelle de coureur. :-(
- correction bug : plusieurs pop-up apparaissaient quand des temps manquaient par rapport au nombre de dossards scannés. Le popup n'apparaît plus qu'une fois.
- suppression la colonne "Classe" dans TableauGUI quand ce sont les catégories d'age qui sont prises en compte.

Travail du 25/06/22 :
- Implémentation de la restauration de sauvegarde : la restauration depuis les sauvegardes automatiques dans db ou depuis une clé USB fonctionne.
- Correction de bug : dans l'interface, quand on ajoute un dossard derrière un autre et que la sélection dans l'interface ne contient pas de dossard (seul un temps),
   alors le script plantait. Corrigé.

Travail du 24/06/22 :
- Implémentation de l'interface d'affichage des erreurs. De nombreuses modifications dans le traitement des erreurs à tous les niveaux,
afin de poursuivre le traitement des fonctions métiers, même en cas d'erreur.
- dans la sauvegarde, ajout des deux fichiers donneesSmartphones.txt et donneesLocales.txt pour permettre une récupération complète.
- En cours de travail : implémentation du menu de "récupération de sauvegarde" : bug restant 'actualiseToutLAffichage' is not defined
Corrections de bugs :
- si on change l'horaire de départ d'une course, on relance regenereAffichageGUI() pour actualiser l'affichage.
- dans l'affichage en mode catégories d'âge = True, la colonne avec la classe est désormais supprimée.
- le menu annule départ actualise l'affichage des groupements et la possibilité ou l'impossibilité de modifier la dénomination d'un groupement.


Travail du 22/06/22 :
- on empêche de changer la structure et la dénomination des groupements quand la course est lancée. 
L'interface d'affichage du chrono des courses plantait car basée sur le nom modifié et non celui initial. Testé et foncitonnel.


Travail du 21/06/22 : 
- amélioration de stabilité : ajoutArriveeDossard : on ignore l'ajout successif d'un même dossard.
Lié à des problèmes de communication wifi constatés (parfois) en conditions réelles. Accusé de réception http non reçu par le smartphone qui renvoie l'information une 2ème fois.


Travail du 18/06/22 : 
- Implémentation de la class Erreur.
A finir : prise en compte dans le timer de chronoHB.py des erreurs et implémentation de ErreursFrame pour un affichage permettant de modifier l'erreur.


Travail du 17/06/22 :
- correction du bug : groupement parfois non affiché sur le dossard.
- correction de bug : le fichier coureurs.txt n'était pas regénéré lors de l'ajout manuel d'un coureur (ou sa modification).
- développement : départage du challenge avec une règle claire : la règle en UNSS est de prendre les positions 
(comparer la position du meilleur (fille ou garçon) de chaque classe, puis le second, etc... tant qu'il y a ex-aequo. 
Cela se fait dans la fonction estSuperieurS().


Travail du 16/06/22 :
- correction d'un bug : @groupement@ n'était pas remplacé dans le fichier tex du dossard généré.
- correction d'un bug : ajout de coureur non fonctionnel pour les catégories d'âge : le champ 'date de naissance' était affecté à la 'classe' du coureur généré.
- modification des dossards par défaut en tex pour affichage des groupements au lieu de la catégorie automatique (si les groupements ne sont pas utilisés, la catégorie s'affiche par défaut).
- création de la classe CoureurFrame, destinée à ajouter un coureur manuellement (fonctionnalité déjà implémentée) puis à modifier un coureur existant (à partir de son numéro de dossard)


Travail du 15/06/22 :
- correction du bug : quand on supprime le seul et unique temps avec le smartphone, il ne disparaissait pas de l'interface GUI. Corrigé.


Travail du 13/06/22 :
- adaptation des fonctions métiers pour que la racine des scripts cgi change de "/" vers "/cgi". Déplacement de Arrivee.pyw dans /cgi
- modification de l'application apk pour tenir compte du chemin modifié. 
Conséquence : l'affichage sur la TV Affichage.html est accessible via le réseau à l'adresse IP du serveur à la racine.
Cela permet un affichage sur un autre PC relié au même réseau wifi, en évitant le double écran et un long cable HDMI-VGA, ...
Version 1.4 de l'application non rétrocompatible.


Travail du 05/01/22 :
- bouton de recopie de la distance fonctionnel
- boutons permettant de changer l'heure de départ fonctionnels (ainsi que la restauration de l'heure du clic en cas d'erreur de correction).
- Si une course n'est pas lancée, l'affichage sur la TV affiche son chronomètre à 00:00:00. 
  Si la course est lancée et qu'aucun coureur n'est arrivé, elle affiche le chronomètre du groupement. 
  Sinon, la TV affiche le tableau des résultats (et le chronomètre en haut).
- depuis l'ajout des groupements, les coureurs n'ont plus de rang en passant l'arrivée... Fonction estUneCourse() corrigée et renommée estUneCourseOuUnGroupement().

Travail du 02/01/22 :
- correction de bugs pour générer l'affichage TV avec les nouveaux groupements.
- correction d'un bug d'affichage : quand il n'y avait plus de course à lancer et que l'on annulait un groupement, l'affichage des lancements
	de courses apparaissait tout en bas au lieu de l'emplacement initial.
- création d'un affichage des chronomètres quand une course est lancée (Bonne idée de P. Gutzwiller).
- préparatif boite de dialogue pour changer l'heure de départ (voir ligne 1149-1183 de chronoHB.py). 
	
Reste deux bugs dans ces deniers développements :
1. le bouton de recopie de la première distance ne fonctionne pas.
2. les boutons permettant de changer l'heure de départ n'affiche pas la bonne catégorie (seulement la dernière).


Travail du 01/01/22 :
- les combobox sont en mode readonly.
- l'interface de groupements des courses tant attendue.


Travail du 30/12/21 :
- correction de bug sur arrivee.pyw (demande d'info depuis le smartphone ne fonctionnait plus depuis fin novembre 2021)
- séparation des dossards modèles : cas des différents types de catégories.
- l'affichage.html par groupements (implémenté mais à tester, a priori fonctionnel)
- tests et corrections de bugs créés lors des développements récents des derniers jours :
	réinitialisation des Groupements OK, affichage des lignes vides en bas de tableauGUI OK, export des pdf par catégories OK.
  Reste à implémenter :
  - l'interface qui associe plusieurs courses à un groupement. (empêcher que deux groupements aient le même nom)
  A tester : l'affichage par groupements qui semble fonctionner avec des groupements d'une course... qui devrait fonctionner avec d'autres groupements.

Travail du 29/12/21 :
- adaptation des fonctions métiers comme listCoursesCommences(), etc... aux groupements. Elles ont été renommées et modifiées :
	listGroupementsCommences(), listGroupementsNonCommences(), topDepart(listeDeGroupements), fixerDepart(nomGroupement,temps)
  On peut désormais lancer des départs et annuler des départs de groupements. Pour l'instant, les groupements se construisent avec un unique élément Course.
- la génération des pdf par groupements : generateImpressions() a été adaptée mais non testée.


Travail du 28/12/21 :
- création de l'objet Groupement (de courses) et de la liste Groupements, contenant tous les "Groupement". 
Cela permettra de regrouper des catégories de coureurs, qui courent ensemble :
 * la même course (même départ, à implémenter)
 * dont l'affichage devra être commun (export affichage.html et pdf à implémenter).

Travail du 26/12/21:
- les cases à cocher ne doivent pas comporter les challenges quand les catégories officielles d'athlétisme sont choisies.

Travail du 21/12/21 : Pleine prise en charge des catégories d'athlétisme et des courses associées.
- débuggage addCoureur() bugs créés lors du devel d'hier. Import possible avec des catégories d'athlétisme automatiquement générées.
- disable radio boutton (quand des coureurs sont déjà importés, on ne peut plus changer la configuration "type de catégories" utilisée).
- dans le menu "imprimer un dossard particulier", le combobox indique les catégorie d'athlétisme et non systématiquement la classe.

Travail du 20/12/21 :
- Création d'une propriété Coureur.aImprimer (booléen) qui sera initialisé à True lorsque qu'un coureur sera créé manuellement (pas via l'import SIECLE).
- Création d'un bouton "IMPRIMER TOUS LES DOSSARDS NON ENCORE IMPRIMES" dans la création manuelle de coureurs qui lance l'impression automatiquement vers l'imprimante par défaut.
- ajout dans addCoureur() de la prise en complte des catégories d'âge. Lors de l'import : la date de naissance devra être fournie à la place de classe (l'une des deux obligatoires selon le cas).
(Non achevé:  à tester)
- Correction de bug : VMA et commentaire d'arrivée ne s'effaçaient pas quand on validait la création d'un coureur.

Travail du 02/12/21 : 
ajout d'une fonction categorieAthletisme(anneeNaissance) qui retourne la catégorie d'athlétisme officielle en fonction de l'année de naissance fournie.

Travail du 24/11/21 : Version 1.3
modification de l'application android : 
-  elle récupère depuis le serveur, à chaque lancement de la fenêtre "SaisieTemps" le nouveau paramètre 'crossParClasse' qui indique :
	si les catégories sont créées avec l'initiale de la classe (comme pour le cross du collège)
	ou en utilisant la date de naissance (catégories officielles de l'athlétisme).
- dans la saisie des dossards, n'affiche pas "classe" pour la recherche mais plutôt "catégorie".
- limitation du numéro de dossard à 40000 (il y en a 35 000 au marathon de Paris). Il arrive que des QR-codes soient détectés à tort dans une pelouse, ...
- la recherche par catégorie est implémentée côté smartphone.
- correction d'un bug pour la recherche d'un dossard. Depuis quand était-il présent ?

modification de Arrivee.pyw :
- prise en compte les changements de l'apk : recherche par catégorie, requête pour connaître les paramètres du serveur,...

modification de chronoHB.py
- permettre de tenir compte des catégories d'âge lors de l'import (ajouté dans les paramètres qui sont séparés en deux (paramètres vs distances des courses)
- paramètres des courses avancés AVANT l'import csv.

modification de fonctionsMetiers.py :
- le fichier params.txt est créé tout seul à chaque changement du paramètre, 
- pas de création de challenge par classe lors de l'export pdf si catégories d'âge utilisées.




Travail du 21/11/21 : modification de l'application android : 
- un son est généré lors de l'ajout d'un ou plusieurs temps (ou de leur suppression).
- possibilité d'empêcher la mise en veille du smartphone ou de la tablette pour le smartphone sur la ligne d'arrivée.
	le temps de déverrouiller le smartphone peut empêcher une bonne mesure du temps réalisé.
	une case à cocher est ajoutée dans la page "paramètres".


Après le cross (oct 2021) :
- une catégorie dans laquelle aucun résultat n'a lieu plantait la génération pdf. C'est blindé. Cette catégorie n'est pas générée en pdf.
- on ignore les dossards multiples ajoutés dans donneesSmartphones.txt qui sont liés à des instabilités wifi.
- quand on réinitialise les données de course, il fallait aussi supprimer les numéros des lignes en erreur ignorées. Ce n'était pas le cas.


Travail du 19/10/21 :
- sauvegarde à intervalles réguliers sur un dossier (clé USB) branché à l'ordinateur. A régler dans le menu Paramètres courses.
- vitesse de défilement et temps de pause sur les premiers réglable par une entryParam sur l'application. 
- dans l'affichage HTML, largeurs mieux réglées pour chaque colonne. Tout nom trop long est caché, ce qui évite de déformer le tableau...


Travail du 18/10/21 :
- si un nom ou un prénom contenait un espace, alors la génération du dossard individuel échouait (compilation). Corrigé dans generateDossard(coureur).
- taille du bouton de choix de la classe (menu déroulant) plus large qu'initialement et texte centré à l'occasion.


Travail du 17/10/21 :
-Grossissement du bouton "PARTEZ", en gras, texte plus grand...
-ajout dans l'export tableur de la vitesse, du % de vma
-ajout d'une méthode pourcentageVMA() à la class Coureur.
- dans les paramètres, les champs à droite n'étaient pas mémorisés dans la base de données. 
	Il fallait tout mémoriser en temps réel, comme c'est le cas pour les distances : fonction setParam non implémentée (oubli).
- dans les paramètres de la course, permettre la modification d'un fichier messageDefault.txt avec des champs <dossard>, <nom>, etc qui seront remplacés lors de l'annonce de l'arrivée d'un coureur.
 => chacun pourra paramétrer le message de son choix depuis l'interface et non en dur dans Arrivee.pyw IMPLEMENTE


Travail du 16/10/21 : 
Protection de Arrivee.pyw contre des QR-codes non numériques, des actions incorrectes (impossible avec mon appli mais possible vu que la communication est http si piratage du wifi.


Travail du 15/10/21 : 
Suite au test en conditions réelles, le smartphone a scanné des QR-codes fantaisistes (dossard=3248596) et cela a planté chronoHB.
- renforcement de la fonction ligneIndice() dans Arrivee.pyw pour qu'elle retourne quelque chose quoiqu'il arrive, même si la valeur numérique est trop grande.


Travail du 11/10/21 :
- protection de la fonction calculeTousLesTemps dans le cas où aucun temps ne serait saisi et qu'un dossard passerait la ligne. 
Cela faisait planter le logiciel au démarrage suivant. 
if i == len(ArriveeTemps)     est devenue       if i == len(ArriveeTemps) and len(ArriveeTemps) :


Travail du 10/10/21 :
- les QR-codes des dossards sont générés une fois pour toutes puis inclus dans les divers fichiers générés. 
Temps de compilation pour tous les dossards divisé par 3.


Travail du 09/10/21 :
- les boutons permettant d'imprimer un dossard individuel n'avaient pas la même largeur. C'est corrigé.
- nom de la fonction de documentation (menu)
- modif dans DossardsFrame. et AbsDispFrame.actualiseAffichage() pour actualisation du menu lors des imports SIECLE ou lors de la suppression des données.
- quand on cliquait sur tout effacer puis sur générer tous les dossards, le listing n'était pas vide. 
Il restait des données non effacées car listeDesCoureursUpdate n'était pas relancé après l'effacement total.
- les menus "imprimer un dossard individuel" et "absents et dispensés" n'étaient pas bien actualisés après un import SIECLE. 
- correction d'une phrase dans le menu pour créer les dossards individuels.
- début de travail pour améliorer la rapidité des créations de dossards. Une fonction doit générer tous les QRcodes en standalone. 
 Cela ne semble pas fonctionner avec texlive... :-(


Travail du 08/10/21 : version 1.2
- permettre un export tableur xlsx des résultats.
- générer un dossard individuellement : menu ajouté pour imprimer des dossards de dernière minute.
- le tableur généré s'ouvre automatiquement dans le lecteur de fichiers xlsx par défaut.
- message à l'arrivée ne comporte pas le prénom et nom prévu
 => l'import csv comportait une fin de ligne qui n'était pas considéré comme un message vide d'où l'absence de message. (CORRIGE)


Travail du 07/10/21 :
- la suppression d'un temps ou d'un dossard n'existant pas ne doit plus provoquer d'erreur.
- les fonctions d'import depuis smartphone (et interface) : ajout de listes de lignes ignorées mémorisées dans la sauvegarde.
 Ainsi, si on ignore une ligne dans l'interface en certifiant avoir corrigé l'erreur sur le smartphone, on suppose que c'est vrai.
 Cette ligne sera de toute façon ignorée à l'avenir lors des imports.
- le bouton dans l'interface en cas d'erreur permet d'ignorer la ligne problématique.


Travail du 06/10/21 :
- l'effacement des données de courses n'effacait pas les résultats contenus dans les données de chaque coureur et les départs de courses. 
- quand on réinitialise les données de courses, le tableauGUI est vidé : une fonction était déjà écrite pour cela.
- pas de dossard pour les dispensés


Travail du 04/10/21 :
- heure affichée dans l'interface décalée de 2H.
- taille des caractères dans l'affichage.
- taille du QR-code sur le dossard.


Travaux du 02/10/21 :
- décalage d'une heure sur le temps final
- affichage des VMA sur le pdf final et sur la TV.
- calcul incorrect de la médiane si effectif pair (indice des listes commençant à 0 et non à 1).
- affichage correctement formaté des temps.
- Réparation des en-têtes des dossards et du listing des dossards (mal générés avec xcolor dans texlive.) Changement des couleurs.
